---
layout: post
title: Špehujeme používateľov na našich stránkach
date: '2018-07-02T13:28:00.002+02:00'
author: Lukas Tursky
tags:
- user recording
- page uptime
- user monitoring
- hotjar
- google analytics
- loggly
modified_time: '2018-07-02T13:28:48.885+02:00'
thumbnail: https://1.bp.blogspot.com/-kTaS_fO5FO8/WzjJ5Hnlq0I/AAAAAAAAAFI/-wrJtH_xYAAWI-zEFvopkphlmxqwmS4wwCLcBGAs/s72-c/page_analytics_2.jpg
blogger_id: tag:blogger.com,1999:blog-5328688426183767847.post-2449955145126440509
blogger_orig_url: http://blog.fragaria.cz/2018/07/spehujeme-pouzivatelov-na-nasich_2.html
---

<div style="text-align: center;"><i>"Use the right tools to spy on people on your website"</i></div><br /><div style="text-align: justify;">Patrím medzi ľudí, ktorí majú radi spätnú väzbu na svoju prácu, no tú je na webe ťažké získať, kedže návštevníci nemajú čas sa k vám vyjadrovať. Jedine ak spravujete štátny portál. Preto sú tak obľúbené rôzne nástroje na sledovanie návštevnikov na stránkach a ich vyhodnotením sa vieme dostať k nepriamej spätnej väzbe. A že ich je.</div><div style="text-align: justify;"><br /></div><div style="text-align: justify;">Dnes vám preto predstavím pár nástrojov, ktoré používam ja pri sledovaní používateľov na stránkach a zaspomínam v čom mi už za tie roky pomohli. Tému ako aj nástroje by som zahrnul do oblasti User Monitoring či User Profiling.</div><div style="text-align: justify;"><br /></div><div style="text-align: justify;">Zameriam sa na vlastné projekty - menšie appky a prezetačné stránky. E-shopom a iným CMS systémov sa nevenujem (našťastie). Navyše tu sa už očakáva nasadenie marketingových služieb, kam zachádzať nechcem. Na druhej strane väčšie či korporátne appky si často vyžadujú mať časť trackovania in-house (interné logovanie, audit, support centrum).</div><br /><h3>EU Cookie law</h3><br /><div style="text-align: justify;">Než začneme, trošku politiky. Väčšina nástrojov využíva na sledovanie cookies a o tom potrebujeme ľudí na stránke informovať. Cookies slúžia na rôzne účely - funkcionálne, výkonnové, štatistické či marketingové. Niektoré sú potrebné pre správny beh stránky, iné plnia dodatočnú úlohu na zlepšenie používateľského zážitku, čo je náš prípad. Možností je veľa (ako pri všetkom), no ja používam overenú <a href="https://cookieconsent.insites.com/">cookieconsent službu</a>. Fajn je, že je veľmi dobre customizovateľná a pripravená na použitie s GDPR. Podporuje viacero možností získania súhlasu.</div><br /><div style="text-align: justify;">Príklad informačného použitia </div><script src="https://gist.github.com/xtursky/c1ecf637c24a119f1178dec8651edb4b.js"></script> <br /><h3>GDPR odbočka než začneme</h3><br /><div style="text-align: justify;">Čo sa týka GDPR samotného, v skratke musíte používateľa informovať o tom aké osobné údaje o ňom zbierate, ako s nimi nakladáte, potrebujete na to explicitné povolenie, ktoré musí mať možnosť odvolať :) </div><div style="text-align: justify;">V našom prípade sa o zabezpečenie údajov starajú nástroje samotné. Na vás zostáva získanie súhlasu v prípade ak zbierate údaje, ktoré môžu slúžiť na identifikáciu, nestačí len upozornenie. Čo vlastne znamená len krok naviac, kedy vám odklikne <b>Povoliť</b>. Problémom môže byť  zmazanie údajov, ak vám niekto tento súhlas neskôr zruší, keďže tento proces je tažšie automatizovateľný. </div><div lang="cs" style="font-family: &quot;calibri&quot;; font-size: 11pt; margin: 0in; text-align: justify;"><br /></div><div style="text-align: justify;">Pri mnou opisovaných použitiach však takéto údaje nezbieram - tj. údaje sú anonymné (nemajú povahu osobných údajov) a stačí informovanie ako doposiaľ. Samozrejme nástroje si generujú vlasný anonymný identifikátor používateľa. Každopádne je fajn mať pre každý prípad nasadenú <b>privacy policy</b> stránku - <a href="https://privacypolicies.com/">dá sa vygenerovať napr. tu</a>. Pri appkách je samozrejmá aj <b>terms of service</b>.</div><br /><h3> Nástroje&nbsp;</h3><br />Každý nástroj vzyšiel z určitej potreby dozvedieť sa: <br /><ul><li>či je stránka dostupná (Statuscake) </li><li>koľko ľudí tam chodí a odkiaľ (Google Analytics, skr. GA) </li><li>čo čítajú, ako prechádzajú stránku, v akom momente odídu (Hotjar) </li><li>nastali nejaké chyby počas ich návštevy (Loggly)&nbsp; </li></ul>Každý nástroj používam vo free variante, ktorá pre vybrané typy projektov postačuje, keď tak firma zaplatí.<br /><br />Celú konfiguráciu mám schovanú v jednom skripte. <script src="https://gist.github.com/xtursky/a3258a7e895f7ea27fd37412c49b1bd3.js"></script> <br /><h3>Google Analytics je základ </h3><br /><div style="text-align: justify;">Slúži na automatické trackovanie používateľov ako prechádzajú stránky a poskytuje možnosť zaznamenávania udalostí. V podstate poskytuje trackovanie stránok a eventov. Google o vás vie zistiť množstvo vecí, tiez zaujímavejšie pre nás sú napr. vek, lokalita, pohlavie, údaje o zariadení a prehliadači. </div><div style="text-align: justify;"><br /></div><div style="text-align: justify;">Stránky (zmeny v URL) trackuje automaticky, pokiaľ nemáme SPA applikáciu, kde to zostáva na nás - stačí pribaliť wrapper pre danú frontend technológiu, alebo volať priamo. V prípade potreby umožňuje pre dané sledovanie nastaviť dodatočné hodnoty - tzv. dimenzie. Tie použíjeme napr. na internú identifikáciu používateľa - user id, user role atd.</div><div style="text-align: justify;"><br /></div><div style="text-align: justify;">Pekne vysvetlené GDRP pre GA je tu - <a href="https://www.slideshare.net/mediocz/analytika-vs-gdpr-andre-heller">Analytika vs. GDPR (André Heller)</a></div><div style="text-align: justify;"><br /></div><div style="text-align: justify;">Údaje z google analytics tvoria základ pre následný marketing, tomu sa ale v tejto téme nebudeme venovať. </div><br /><b>Čo ma najčastejšie zaujímava</b><br /><ul><li style="text-align: justify;">počet návštevníkov a koľko času tam strávia</li><li style="text-align: justify;">odkiaľ prišli</li><ul style="text-align: justify;"><li style="text-align: justify;">direct - dajú sa trackovať parametre url, prípadne ignorovať príchody crawlerov</li><li>search - aký názov zadali pri vyhľadávaní?</li><li>social - redirect z ktorých sociálnych sietí</li></ul><li style="text-align: justify;">ako často a kedy tam chodia resp. nechodia</li><ul style="text-align: justify;"><li>určenie release / patch okien</li></ul><li style="text-align: justify;">rýchlosť načítania stránky</li><ul style="text-align: justify;"><li>na čo sa čaká? je to pomalé? treba optimalizovať zdroje?</li></ul><li style="text-align: justify;">najčastejší hardvér / softvér</li><ul><li style="text-align: justify;">poskytuje odpovede na otázky responzivity / potvrdenie mobil first prístupu </li></ul></ul><br /><div style="text-align: justify;">Pekná vec je možnosť tvorby panelov, kde môžete mať naraz až 12 rôzných widgetov (graf, tabuľka, číslo, mapa ...). Takéto panely je možné zdielať a použit na viacerých projektoch. Je tu <a href="https://analytics.google.com/analytics/gallery/">dostupný marketplace</a> s množstom používateľských panelov podľa viacerých kritérií. Prípadne ich môžete vykradnúť a vystavať si vlastný.  </div><div style="text-align: justify;"><br /></div><div style="text-align: justify;">Super vec je <a href="https://chrome.google.com/webstore/detail/page-analytics-by-google/fnbdnhhicmebfgdgglcdacdapkcihcoh">Page analytics chrome extension</a>, ktorý umožňuje vidieť základné informácie pri príchode na stránku. Navyše umožňuje zobraziť základnú heatmapu s počtom kliknutí na odkazy.</div><br /><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><a href="https://1.bp.blogspot.com/-kTaS_fO5FO8/WzjJ5Hnlq0I/AAAAAAAAAFI/-wrJtH_xYAAWI-zEFvopkphlmxqwmS4wwCLcBGAs/s1600/page_analytics_2.jpg" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" data-original-height="464" data-original-width="1186" height="249" src="https://1.bp.blogspot.com/-kTaS_fO5FO8/WzjJ5Hnlq0I/AAAAAAAAAFI/-wrJtH_xYAAWI-zEFvopkphlmxqwmS4wwCLcBGAs/s640/page_analytics_2.jpg" width="640" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;">Náhľad stránky zo zapnutým Page analytics pluginom</td></tr></tbody></table><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><a href="https://4.bp.blogspot.com/-JVH1GjJb8n4/WzjKKu0aorI/AAAAAAAAAFc/LUvGFfHPcIgOJdThVfM4oMIQLF9ZZRyKgCLcBGAs/s1600/page_analytics_mzf_cr.jpg" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" data-original-height="578" data-original-width="1261" height="291" src="https://4.bp.blogspot.com/-JVH1GjJb8n4/WzjKKu0aorI/AAAAAAAAAFc/LUvGFfHPcIgOJdThVfM4oMIQLF9ZZRyKgCLcBGAs/s640/page_analytics_mzf_cr.jpg" width="640" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;">Náhľad stránky zo zapnutým Page analytics pluginom</td></tr></tbody></table><br /><div style="text-align: justify;">Pre appky odporúčam mať na projekte pustený na monitore dashboard s real údajmi zo sledovania. Statické stránky podľa potreby prejdem aspoň raz za týždeň.</div><br /><h3>Hotjar pre nahrávanie obrazovky </h3><br /><div style="text-align: justify;">Hotjar je môj naobľúbenejší nástroj, ktorý sa zameriava na sledovanie správania používateľa a poskytuje zber spätnej väzby. Predstavte si, že si môžete pustiť video záznam toho čo používateľ robil na vašej stránke. Vidíte ako hýbe myšou / prstom, kam skroluje po stránke, pauzy, ktoré pravedpodobne využíva na čítanie. Skrátka robí veci úplne inak ako ste si predstavovali. Tak túto top feature vám Hotjar ponúka v rámci nahrávania obrazovky na danej stránke. Samozrejmosťou je zopár ďalších štandardných features, ktoré si v skratke prejdeme. Celkovo má veľmi dobrú free ponuku a výrazné výhody oproti alternatívnym riešeniam.<br /><br /><b>Heatmapy </b><br /><br />Štandardná feature, ktorá nesmie chýbať pri takomto nástroji.<br />Podklad pre heatmapu si nástroj spraví sám a ponúka rozdelenie podľa typu zariadenia - mobil / tablet / desktop. <br /><br /><b>Recordings </b><br /><br />Už spomínané nahrávanie stránky. Je možné nastaviť, či má nahrávať aj text vkladaný do formulárov, pričom ale vždy ignoruje authorizačné inputy pre name a password. Video môžeme triediť, tagovať či pridávať poznámky. To priam nabáda nasadiť na A/B testy, UX testy, či testovanie nových features na vybraných používateľoch. <br /><br />Čo sa týka GDPR, tak dodatočne pridali možnosť trackovať len whitelistované input fieldy, či úplne ignorovať emailove adresy a numerické inputy.<br /><br /><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><a href="https://2.bp.blogspot.com/-YRbtiLyQoR4/WzjJ9RsHmZI/AAAAAAAAAFo/bTFAGI8yCSAbig6QHTE5SimLBm_3T2lfgCEwYBhgL/s1600/2018-04-30_205610_cr.png" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" data-original-height="786" data-original-width="1291" height="387" src="https://2.bp.blogspot.com/-YRbtiLyQoR4/WzjJ9RsHmZI/AAAAAAAAAFo/bTFAGI8yCSAbig6QHTE5SimLBm_3T2lfgCEwYBhgL/s640/2018-04-30_205610_cr.png" width="640" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;">Zoznam nahrávok používateľov</td></tr></tbody></table><br /><b>Ďalšie vlastnosti </b><br /><br />Toto podľa mňa pridali dodatočne aby toho mali viac v ponuke, no je to jednoduché a robí to čo má. Ďalej tu máme:<br /><ul><li>Analýzu formulárov</li><ul><li>v akom momente ľudia opustia formulár</li><li>super pre appky s formulármi</li></ul><li>Analýza konverzie medzi stránkami</li><ul><li>analýza prechodu medzi viacstránkovým formulárom, či viacerými stránkami - typicky objednávka</li><li>nepoužívam, dá sa riešiť cez Google Analytics</li></ul><li>Feedback</li><ul><li>automatický pridá feedback štítok na stránku </li><li>vyber smajlíka podľa nálady + vyber časť stránky + napíš kritiku ak chceš =&gt; pošli</li></ul><li>Prieskum spokojnosti</li><ul><li>možnosť zobraziť pri odchode</li></ul><li>Anketa</li><ul><li>napr. akú ďalšiu feature máme pridať</li></ul></ul><br /><b>Najčastejšie problémy</b><br /><ul><li>s navigáciou na stránke</li><ul><li>pochopením menu</li></ul><li>s vypĺňaním formuláru</li><ul><li>hlavne selektory (datepicker, multiselect)</li></ul><li>častokrát sa snažia klikať na zvýraznený text (následok flat designu)</li><ul><li>je treba zadefinovať dizajn tlačítok </li><li>nezvýrazňovať text zároveň farbou a boldom</li></ul><li>s vypĺňaním zložitejších formulárov</li><ul><li>hlavne selektory (datepicker, multiselect)</li></ul><li>ľudia uprednostňujú mapu na vyhľadávanie </li></ul><b>Pozorovania z personálnej stránky</b><br /><ul><li>veľa ľudí hýbe s myšou ako postupne číta text </li><ul><li>vidieť čo si prečítali, čo nie, čo je zle rozdelené</li></ul><li>recruiteri chcú všetko vidieť hneď, nechce sa im skrolovať ani zbytočne klikať, hľadajú len základné info (keywords) a idú na kontakt</li><ul><li>hneď na začiatku prezentujem aktuálny stav, job description, availability, link na CV a email</li></ul><li>pred pohovorom viem povedať, či sa na mňa ľudia pripravujú </li><ul><li>vačšina si prezrie profil tak hodinku pred stretnutím</li><li>hodinku pred termínom prejdem dlhšie nahrávky na webe, väčšinou si čítaju o posledných projektoch - pridajte tam zaujímavosti</li></ul></ul><br /><h3>Loggly pre odchytávanie chyb</h3><br /><div style="text-align: justify;">Toto ma naučili používať chalani v "Spořke". Dovtedy som logovanie chýb neriešil, alebo som si to posielal na vlastný error endpoint na server. Ak viete používať Kibanu a nechce sa vám riešiť Logstash, tak loggly je riešenie. Ja osobne ho používam len na logovanie chýb. Jinde tam o vás logujú celý príbeh. Takže kto čo potrebuje. <br /><br />Fajn je, že JS knižnica poskytuje v rámci konfigurácie priamo možnosť odchytávať chyby. Samozrejmosťou je aj možnosť custom logovania - napr. v rámci spracovania http requestov. Čo sa mne páči je možnosť pridávania tagov / custom labelov. To mi umožňuje logovať problémy z viacerých stránok do jedného worskpaceu a v rámci query to jednoducho oddeliť. <br /><br />V rámci free plánu toho neponúka veľa, určite sa nájdu aj zaujímavejšie riešenia, no jeho ohromnou výhodou je podpora a konfigurovateľnosť. Je možné ho využiť aj na backende a v prípade klienta existuje viacero wrapperov pre každý významnejší framework. <br /><br /><i>PS: nezabudnite vybuildiť source mapu, ináč zo stacketraceu nič zmysluplné nedostanete.</i></div><div class="separator" style="clear: both; text-align: center;"></div><div style="text-align: justify;"><br /><h3>StatusCake pre prípad výpadku </h3><br /><div style="text-align: justify;">StatusCake je jednoduchý tool, ktorý používam na monitorovanie dostupnosti stránok (page uptime). Aktuálne mám nastavených 6 testov, každý zbehne raz za 30 min. Akonáhle nastane výpadok, obdržím email.  Všetko v rámci free plánu. </div><br />V rámci testov môžem nastaviť: <br /><ul><li>typ testu (http, ssh, ping, dns)</li><li>threshold pre upozornenia</li><li>test locations</li><li>frekvenciu (15-30 min, 1hod, 1den) </li><li>pre appky sa hodí - testovanie s basic auth, custom HTTP headers či form data v requeste </li></ul>&nbsp;Uptime monitoring je fajn vec, obzvlášť ak máte: <br /><ul><li>aplikácie v cloude</li><ul><li>spôsob ako im zabrániť v uspávaní </li><li>ľahko odhalíte ak ste prečerpali denní limit</li></ul><li>vám hrozí DDoS útok</li><ul><li>ak človek robí politický motivovaný web </li></ul></ul><br /><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><a href="https://4.bp.blogspot.com/-3L_wGizp4-A/WzjJ96wG4iI/AAAAAAAAAFs/kjuE3Ets_3UH1z-lJRCqMaPXk4_DCgVnQCEwYBhgL/s1600/statuscake_report.jpg" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" data-original-height="858" data-original-width="1158" height="472" src="https://4.bp.blogspot.com/-3L_wGizp4-A/WzjJ96wG4iI/AAAAAAAAAFs/kjuE3Ets_3UH1z-lJRCqMaPXk4_DCgVnQCEwYBhgL/s640/statuscake_report.jpg" width="640" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;">Dashboard testu</td></tr></tbody></table></div><div lang="cs" style="font-family: Calibri; font-size: 11.0pt; margin: 0in;"><span lang="cs"></span> </div></div>
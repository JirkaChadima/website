<!DOCTYPE html>
<html lang="cs" dir="ltr" itemtype="http://schema.org/WebPage" itemscope="">
    <head>
    
    
    
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Creating Modular Menus in AngularJS | fragaria.cz</title>
    <meta name="author" content="Fragaria s.r.o." />
    <meta name="robots" content="index,follow" />
    <meta name="description" content="Recently, I had to design an AngularJS application that would be highly modular. The idea was to let each module to create its own menu items and its own routes.The final application should look like this:The menu on the left should be generated on-the-fly, based on the requirements of individual modules.It turned out it's qu...">
    <meta name="keywords" content="fragaria, software, vývoj software, webové aplikace, python, javascript, angular, elasticsearch, html, css, menudynamicmodularmodulesangularjs" />
    <!-- Favicons -->
    

    <meta property="og:url"           content="https://fragaria.cz/website/blog/modular-menu-with-angularjs/" />
    <meta property="og:type"          content="website" />
    <meta property="og:title"         content="Creating Modular Menus in AngularJS | fragaria.cz" />
    <meta property="og:description"   content="Recently, I had to design an AngularJS application that would be highly modular. The idea was to let each module to create its own menu items and its own routes.The final application should look like this:The menu on the left should be generated on-the-fly, based on the requirements of individual modules.It turned out it's qu..." />

    
</head>



    <body>
        <div class="page-content">
            <div class="wrapper">
                <article itemtype="http://schema.org/BlogPosting" itemscope="">
  <h1 itemprop="headline">Creating Modular Menus in AngularJS</h1>

  <div dir="ltr" style="text-align: left;" trbidi="on">Recently, I had to design an AngularJS application that would be highly modular. The idea was to let each module to create its own menu items and its own routes.<br /><br /><a name='more'></a><br /><br />The final application should look like this:<br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://3.bp.blogspot.com/-vhRlyVNm9wM/U-TmRNSdkxI/AAAAAAAAAYA/o4H8WBdQHUk/s1600/Screen+Shot+2014-08-08+at+15.44.22.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://3.bp.blogspot.com/-vhRlyVNm9wM/U-TmRNSdkxI/AAAAAAAAAYA/o4H8WBdQHUk/s1600/Screen+Shot+2014-08-08+at+15.44.22.png" height="228" width="400" /></a></div><br /><br />The menu on the left should be generated <i>on-the-fly</i>, based on the requirements of individual modules.<br /><br />It turned out it's quite easy to do so using AngularJS <code>provider</code>.<br /><br />Wait a minute. What is AngularJS provider? Well, there is <a href="https://docs.angularjs.org/guide/providers">nice article</a> in documentation.<br /><br />For the sake of this article, provider is just a service, which <i>is configured at application startup</i>. And application startup is perfect time to build the menu. So let's do it.<br /><h3>&nbsp;</h3><h3>Core module</h3>First of all let us create a module called <code>app.core</code>. containing the <code>Menu</code>&nbsp; service provider which holds application menu items:<br /><br /><script src="https://gist.github.com/krtek/d74d9157b7bc9b4a21b3.js?file=core.js"></script> Note the <code>$get()</code> function. It is used by AngularJS at runtime to get an instance of <code>Menu</code> service.<br /><br />The <code>add()</code> method can be called only at bootstrap (<code>config</code> method) by other modules to add its own menu items.<br /><br />And finally, <code>MenuCtrl</code> is a controller which uses the menu service to get an instance of menu and render it.<br /><h3>&nbsp;</h3><h3>Add modules</h3>Let's define another module and add a menu item:<br /><br /><script src="https://gist.github.com/krtek/d74d9157b7bc9b4a21b3.js?file=settings.js"></script> Note that <code>app.settings</code> module dependents on <code>app.core</code> and during application bootstrap (<code>config()</code> method) it adds menu item and respective routes.<br /><br />Also note, that we are now dealing with <code>MenuProvider</code>, not the <code>Menu</code> service itself. We will use the service later in <code>MenuCtrl.</code><br /><br />Now let's define another module with two more menu items:<br /><script src="https://gist.github.com/krtek/d74d9157b7bc9b4a21b3.js?file=user.js"></script> <br /><h3>&nbsp;</h3><h3>Render menu</h3>Menu rendering depends on the frontend framework you are using, so here is just a simple version for Twitter's Bootstrap:<br /><script src="https://gist.github.com/krtek/d74d9157b7bc9b4a21b3.js?file=menu.html"></script>Of course you can add icons to achieve extra fanciness. Check <a href="http://plnkr.co/edit/6RkqZs0mBcZa3EcGC2op?p=preview">this demo</a> to learn about icons.<br /><h3>&nbsp;</h3><h3>Putting it all together</h3>Finally, we need to link all the individual modules into one root application and add a Home menu item. It's basically just a list of submodule dependencies and default route handler:<br /><br /><script src="https://gist.github.com/krtek/d74d9157b7bc9b4a21b3.js?file=app.js"></script> <br />The only issue in the example is that Home menu always appears on the last position because of module loading order. Fix it as your homework :)<br /><br />Get the code above <a href="https://gist.github.com/krtek/d74d9157b7bc9b4a21b3">as a gist</a> or <a href="http://plnkr.co/edit/6RkqZs0mBcZa3EcGC2op?p=preview">see it in action</a>.</div>
</article>

            </div>
        </div>
    </body>
</html>

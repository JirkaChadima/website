---
layout: post
title: Náš technologický stack - klient
date: '2013-12-19T12:08:00.000+01:00'
author: Lukáš Marek
tags: 
modified_time: '2013-12-19T12:08:33.948+01:00'
blogger_id: tag:blogger.com,1999:blog-5328688426183767847.post-796362602360585435
blogger_orig_url: http://blog.fragaria.cz/2013/12/nas-technologicky-stack-klient.html
---

Množí se nám dotazy (teda... byly dva), jaké technologie používáme na jednotlivých vrstvách aplikací, které tvoříme.<br />Ani se nedivím. Než jsme si jednotlivé technologie sladili dohromady, tak to chvíli trvalo, ale výsledek stojí za to. Posuďte sami:<br /><br /><h3>Klient</h3>V prohlížeči nedáme dopustit na <a href="http://getbootstrap.com/" title="nastřelit">Bootstrap</a>. Konečně i my prográmatoři dokážeme "nastřelit" rozhraní, které vypadá k světu a dá se s ním pracovat. <br />Kde nestačí vzhled čistého Bootstrapu, koukáme primárně po šablonách z <a href="https://wrapbootstrap.com/">WrapBootstrap</a>. Většinou jde o hodně designu za málo peněz. <br />No a kde to trochu drhne, tam pomůže Tibor a doladí CSSka. Tedy – neladí CSSka, ale <a href="http://lesscss.org/">LESSka</a>. To je snad jasné, ne?<br /><h4></h4><h4><br /></h4><h4>Angular.js</h4>Naší velkou láskou je <a href="http://angularjs.org/">Angular.js</a>. Nejdřív jsme s ním udělali mobilní aplikaci pro Investiční web (<a href="https://play.google.com/store/apps/details?id=cz.fragaria.iw3">Android</a>, <a href="https://itunes.apple.com/cz/app/investicniweb.cz/id592380883?mt=8">iPhone</a>) a teď v něm píšem i všechny desktopové aplikace.<br /><br />Nevíte, co to je Angular? Mrkněte na článek na <a href="http://www.zdrojak.cz/clanky/zaciname-s-angularjs/">Zdrojáku</a>.<br /><br />V kostce jde o MVC framework (představte si Grails, Django, Roo, ...) napsaný kompletně v Javascriptu.<br />Takhle na první pohled to nevypadá jako pecka, ale je! Server (o kterém se pobavím příště) je vlastně degradován jen na posílání dat ve formátu JSON a o jejich zobrazování se komplet stará frontend.<br /><br />Konečně to tedy vypadá jak v příručkách. Server řeší pouze data – jejich validaci, ukládání, vyhledávání atd. Klientský javascript pak šablony, zobrazení a interakci s uživatelem. A navíc – <a href="http://en.wikipedia.org/wiki/Single-page_application">SPI</a> zadarmo!<br /><h4></h4><h4><br /></h4><h4>Coffeescript</h4>Na Angularu nám (teda mě určitě) vadila vlastně jen jediná věc: Javascript. Nechápejte mě špatně. Ten jazyk je mocný, ale strašně ukecaný.<br /><a href="http://coffeescript.org/">Coffescript</a> je něco jako Groovy pro Javu. Konečně můžu napsat:<br /><pre><code>for x in [1, 2, 3]:<br /> console.log("Number: #{x}")</code></pre>a nemusím počítat indexy pole jak trotl.<br /><br />Tohle je samozřejmě jen jedna z výhod Coffeescriptu, je jich ještě záhon.<br /><br />Na druhou stranu, nešikovný "bastlič" dokáže v Coffeescriptu kód dost zašmodrchat. Ale to platí asi ve všech jazycích.<br /><h4></h4><h4><br /></h4><h4>Testování</h4>Angular má docela hezky propracovanou podporu pro unit testy, integrační testy a různé další testy.<br />My testy píšeme v <a href="http://pivotal.github.io/jasmine/">Jasmine</a> a spouštíme <a href="http://karma-runner.github.io/0.10/index.html">Karmou</a>.<br /><h4></h4><h4><br /></h4><h4>Build aplikace</h4>Ptáte se, jak tohle všechno skládáme dohromady? Lidi okolo Javascriptu se v tomhle směru poučili ve světě Javy a vznikl <a href="http://gruntjs.com/">Grunt</a> a <a href="http://bower.io/">Bower</a>.<br />Bower slouží pro správu závislosti (v Javě Maven, Apache Ivy) a Grunt pro sestavení finální aplikace (spíš Gradle než Maven).<br /><br />S Bowerem se neztratíte v použitých knihovnách. Už se nestahují z webu, ale instalují se pomocí:<br /><pre><code>bower install jquery<br />bower install angular</code></pre>a závislosti se ukládají do <code>bower.json</code> v pěkně čitelné podobě:<br /><pre><code>"dependencies": {<br />    "angular": "v1.2.0-rc.2",<br />    "bootstrap": "v3.0.0",<br />    "jquery": "~2.0.3",<br />    "jquery-ui": "~1.10.3"<br />}</code></pre>No a Grunt pěkně zkompiluje Coffeescripty do Javascriptů, prožene je testy, zmenší je, z LESS souborů udělá CSS soubory a vůbec připraví aplikaci na nasazení.<br /><br />Tak takhle my to děláme :)<br />V příštím díle: Server!<br /><br />PS: Jestli vás něco zajímá detailněji, tak se klidně ptejte...